<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Prueba</title>
</head>
<body>
<form class="user">
    <div class="form-group row">
        <div class="col-sm-6 mb-3 mb-sm-0">
            <input type="text" class="form-control form-control-user" id="txtNombre"
                   placeholder="Nombre">
        </div>
        <div class="col-sm-6">
            <input type="text" class="form-control form-control-user" id="txtApellido"
                   placeholder="Apellido">
        </div>
    </div>
    <div class="form-group">
        <input type="email" class="form-control form-control-user" id="txtEmail"
               placeholder="Email">
    </div>
    <div class="form-group row">
        <div class="col-sm-6 mb-3 mb-sm-0">
            <input type="password" class="form-control form-control-user"
                   id="txtPassword" placeholder="Password">
        </div>
        <div class="col-sm-6">
            <input type="password" class="form-control form-control-user"
                   id="txtRepeatPassword" placeholder="Repeat Password">
        </div>
    </div>
    <a href="#" onclick="registrarUsuarios()" class="btn btn-primary btn-user btn-block">
        Registrarse
    </a>
</form>
<form>
    <input type="number" id="id">
    <button onclick="eliminarUsuario()">Al Gulag</button>
</form>
<script type="text/javascript">
    let contador = 5;
    function getHeaders(){
        return {
            'Accept': 'application/json',
            'Content-Type': 'application/json'
        };
    }
    async function eliminarUsuario(){
        const id = document.getElementById('id').value;
        if(!confirm("Desea eliminar este usuario?")){
            return;
        }
        const request = await fetch('http://localhost:8080/api/usuarios/'+id, {
            method: 'DELETE',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json'
            }
        });
        location.reload();
        console.log(id)
    }
    async function registrarUsuarios(){
        let datos={}
        datos.nombre = document.getElementById('txtNombre').value;
        datos.email = document.getElementById('txtEmail').value;
        datos.apellidos = document.getElementById('txtApellido').value;
        datos.telefono = 633633633;
        datos.clave = document.getElementById('txtPassword').value;
        contador++;

        const request = await fetch('http://localhost:8080/api/registraSocio', {
            method: 'POST',
            headers: getHeaders(),
            body: JSON.stringify(datos)
        });
        const usuarios = await request.json();
    }
</script>
</body>
</html>